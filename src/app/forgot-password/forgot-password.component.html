<div class="forgot-password-container">
  <div class="forgot-password-card">
    <h2>Forgot Password</h2>

    <!-- Email Input -->
    <div *ngIf="stage === 'email'" class="form-group">
      <label for="email">Enter your registered email</label>
      <input type="email" [(ngModel)]="email" required />
      <button (click)="sendOtp()">Send OTP</button>
    </div>

    <!-- OTP Input -->
    <div *ngIf="stage === 'otp'" class="form-group">
      <div class="otp-info">OTP sent to {{ email }}</div>
      <label for="otp">Enter OTP</label>
      <input type="text" [(ngModel)]="otp" required />
      <button (click)="verifyOtp()">Verify OTP</button>

      <!-- Resend OTP button placed here -->
      <button 
        (click)="resendOtp()" 
        [disabled]="resendCooldown > 0"
        class="resend-btn"
      >
        Resend OTP 
        <span *ngIf="resendCooldown > 0">({{ resendCooldown }}s)</span>
      </button>
    </div>

    <!-- Password Reset -->
    <div *ngIf="stage === 'reset'" class="form-group">
      <div class="password-reset-info">OTP verified. Set your new password below.</div>
      <label>New Password</label>
      <input type="password" [(ngModel)]="newPassword" required />

      <label>Confirm Password</label>
      <input type="password" [(ngModel)]="confirmPassword" required />

      <button (click)="resetPassword()">Reset Password</button>
    </div>
  </div>
</div>
