<section class="welcome-banner">
  <div class="welcome-content">
    <div class="avatar">
      <i class="fas fa-user-circle"></i>
    </div>
    <div class="welcome-text">
      <h1>Welcome, <span class="username">{{ profile.Username }}</span>!</h1>
      <p>Your personal banking dashboard</p>
    </div>
  </div>
</section>

<div class="dashboard-container">
  <nav class="sidebar">
    <button class="tab-btn" [class.active]="activeTab === 'home'" (click)="activeTab = 'home'">ğŸ  Home</button>
    <button class="tab-btn" [class.active]="activeTab === 'documents'" (click)="activeTab = 'documents'">ğŸ“„ Documents</button>
    <button class="tab-btn" [class.active]="activeTab === 'profile'" (click)="activeTab = 'profile'">ğŸ‘¤ Profile</button>
    <button class="tab-btn" [class.active]="activeTab === 'transactions'" (click)="activeTab = 'transactions'">ğŸ’³ Transactions</button>
    <button class="tab-btn" [class.active]="activeTab === 'payment'" (click)="activeTab = 'payment'">ğŸ’° Make Payment</button>
    <button class="tab-btn" [class.active]="activeTab === 'support'" (click)="activeTab = 'support'">ğŸ“ Support</button>
    <div class="logout-section">
  <button class="logout-btn" (click)="logout()">ğŸšª Logout</button>
</div>
   
  </nav>

  <section class="content">
    <!-- Home Tab -->
    <div *ngIf="activeTab === 'home'" class="tab-content">
      <h3>Welcome to User Dashboard</h3>
      <p>Here you can manage your banking profile and upload documents.</p>
    </div>

    <!-- Documents Tab -->
    <div *ngIf="activeTab === 'documents'" class="tab-content">
      <h3>Upload Documents</h3>

      <div class="upload-section">
        <label>Aadhaar Card:</label>
        <input type="file" accept=".pdf,image/*" (change)="onFileSelected($event, 'aadhaar')" />
        <p *ngIf="aadhaarFile">Selected: {{ aadhaarFile?.name }}</p>
        <img *ngIf="aadhaarPreview" [src]="aadhaarPreview" alt="Aadhaar preview" class="preview-img"/>
      </div>

      <div class="upload-section">
        <label>PAN Card:</label>
        <input type="file" accept=".pdf,image/*" (change)="onFileSelected($event, 'pan')" />
        <p *ngIf="panFile">Selected: {{ panFile?.name }}</p>
        <img *ngIf="panPreview" [src]="panPreview" alt="PAN preview" class="preview-img"/>
      </div>

      <button class="upload-btn" (click)="uploadDocuments()">Upload</button>
    </div>

    <!-- Profile Tab -->
    <div *ngIf="activeTab === 'profile'" class="tab-content">
      <h3>Profile Details</h3>
      <form (ngSubmit)="updateProfile()" #profileForm="ngForm">
        <label>Username:</label>
        <input type="text" [(ngModel)]="profile.Username" name="username" required />

        <label>Email:</label>
        <input type="email" [(ngModel)]="profile.Email" name="email" required />

        <label>Phone Number:</label>
        <input type="tel" [(ngModel)]="profile.PhoneNumber" name="phoneNumber" required />

        <button type="submit">Update Profile</button>
      </form>
    </div>

    <!-- Transactions Tab -->
    <div *ngIf="activeTab === 'transactions'" class="tab-content">
      <h3>Recent Transactions</h3>
      <table class="transactions-table">
        <thead>
          <tr>
            <th>Sender</th>
            <th>Receiver</th>
            <th>Amount</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let tx of transactions">
  <td>{{ tx.sender }}</td>
  <td>{{ tx.receiver }}</td>
  <td>â‚¹{{ tx.amount }}</td>
  <td>{{ tx.status }}</td>
</tr>
        </tbody>
      </table>
    </div>
   
     

<!-- ğŸ“ Support Tab -->
<div *ngIf="activeTab === 'support'" class="tab-content">
  <h2>Contact Support</h2>

  <form (ngSubmit)="submitSupport()" #supportForm="ngForm">
    <div>
      <label for="subject">Subject:</label>
      <input
        type="text"
        id="subject"
        name="subject"
        [(ngModel)]="support.subject"
        required
      />
    </div>

    <div>
      <label for="message">Message:</label>
      <textarea
        id="message"
        name="message"
        [(ngModel)]="support.message"
        rows="5"
        required
      ></textarea>
    </div>

    <button type="submit" [disabled]="!supportForm.form.valid">Send Message</button>
  </form>
</div>

  

   <!-- Make Payment Tab -->
<div *ngIf="activeTab === 'payment'" class="tab-content">
  <h3>Make a Payment</h3>
  <form (ngSubmit)="submitPayment()" #paymentForm="ngForm">
    
    <label>Select Beneficiary:</label>
    <select name="beneficiaryId" [(ngModel)]="payment.beneficiaryId" required>
      <option *ngFor="let b of beneficiaries" [value]="b.id">{{ b.bankName }} - {{ b.accountNo }}</option>
    </select>

    <label>Amount (â‚¹):</label>
    <input type="number" name="amount" [(ngModel)]="payment.amount" required min="1" />

    <label>Remarks:</label>
    <input type="text" name="remarks" [(ngModel)]="payment.remarks" />

    <button type="submit">Send Payment</button>
  </form>
</div>


  </section>
</div>
